<div class="parametres-container">
  <div class="parametres-card">
    <h1>Paramètres</h1>
    
    <form [formGroup]="parametresForm" (ngSubmit)="onSubmit()" class="parametres-form">
      <div class="form-row">
        <div class="form-group">
          <label for="nom">Nom</label>
          <input type="text" id="nom" formControlName="nom" class="form-control" readonly>
        </div>

        <div class="form-group">
          <label for="prenom">Prénom</label>
          <input type="text" id="prenom" formControlName="prenom" class="form-control" readonly>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" formControlName="email" class="form-control" readonly>
        </div>

        <div class="form-group">
          <label for="telephone">Téléphone</label>
          <input type="tel" id="telephone" formControlName="telephone" class="form-control">
          @if (parametresForm.get('telephone')?.invalid && parametresForm.get('telephone')?.touched) {
            <div class="error-message">Le numéro de téléphone est requis</div>
          }
        </div>
      </div>

      @if (userType === 'PATIENT' || userType === 'ORTHOPHONISTE') {
        <div class="form-group">
          <label for="adresse">Adresse</label>
          <input type="text" id="adresse" formControlName="adresse" class="form-control">
        </div>
      }

      @if (userType === 'PATIENT') {
        <div class="form-group">
          <label for="dateNaissance">Date de naissance</label>
          <input type="date" id="dateNaissance" formControlName="dateNaissance" class="form-control">
        </div>
      }

      @if (userType === 'ORTHOPHONISTE') {
        <div class="form-group">
          <label for="numeroAdeli">Numéro Adeli</label>
          <input type="text" id="numeroAdeli" formControlName="numeroAdeli" class="form-control">
        </div>
      }

      <div class="messages">
        @if (successMessage) {
          <div class="success-message">{{ successMessage }}</div>
        }
        @if (errorMessage) {
          <div class="error-message">{{ errorMessage }}</div>
        }
      </div>

      <button type="submit" [disabled]="parametresForm.invalid || loading" class="submit-button">
        @if (!loading) {
          <span>Enregistrer les modifications</span>
        } @else {
          <span>Chargement...</span>
        }
      </button>
    </form>
  </div>
</div> 